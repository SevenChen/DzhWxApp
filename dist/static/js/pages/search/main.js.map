{"version":3,"sources":["webpack:///./src/pages/search/index.vue","webpack:///./src/pages/search/main.js","webpack:///src/pages/search/index.vue","webpack:///./src/pages/search/index.vue?ceec","webpack:///./src/pages/search/index.vue?c2e3"],"names":["app","$mount","config","navigationBarTitleText"],"mappings":";;;;;;;AAAA;AAAA;AACA;AACA;AACA,yBAA6Y;AAC7Y;AACA;AACA;AACA;AACA;AACsP;AACtP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+EAA+E,sDAAsD,IAAI;AACzI,mCAAmC;;AAEnC;AACA,YAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;;AAED;;;;;;;;;;;;;AC3CA;AACA;;AAEA,IAAMA,MAAM,IAAI,2CAAJ,CAAQ,uDAAR,CAAZ;AACAA,IAAIC,MAAJ;;AAEA,+DAAe;AACbC,UAAQ;AACNC,4BAAwB;AADlB;AADK,CAAf,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACiBA;AACA;AACA;;AAEA;AACA,QADA,kBACA;AACA;AACA,yBADA,EACA;AACA,uBAFA,EAEA;AACA,wBAHA,EAGA;AACA,uBAJA,CAIA;AAJA;AAMA,KARA;AASA,UATA,oBASA;AACA;;AAEA;;AAEA;AAAA;AACA;AACA;AACA,SAHA;AAIA,KAlBA;AAmBA,UAnBA,oBAmBA;AACA;AACA;AACA;AACA,SAFA;AAGA,KAxBA;AAyBA,YAzBA,sBAyBA;AACA;AACA;AACA,KA5BA;AA6BA,qBA7BA,+BA6BA;AACA;AACA,0BADA;AAEA,+BAFA;AAGA;AAHA;AAKA,KAnCA;;AAoCA;AACA,mBADA,uBACA,GADA,EACA;AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAFA,MAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAJA;;AAMA;AACA,aAhBA;AAiBA,SApBA;AAqBA,cArBA,kBAqBA,KArBA,EAqBA;AAAA;AACA;AACA,SAvBA;AAwBA,cAxBA,kBAwBA,KAxBA,EAwBA;AAAA;AACA;AACA;AA1BA,KApCA;AAgEA;AACA,gBADA,oBACA,MADA,EACA,MADA,EACA;AACA;AACA;AACA;;AAEA;AACA;AAPA;AAhEA,G;;;;;;;AC3BA,yC;;;;;;;;ACAA,0BAA0B,aAAa,0BAA0B;AACjE;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,sCAAsC,QAAQ;AAC9C;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,C","file":"static/js/pages/search/main.js","sourcesContent":["var disposed = false\nfunction injectStyle (ssrContext) {\n  if (disposed) return\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":false,\\\"sourceMap\\\":false}!../../../node_modules/mpvue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4fb02504\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!px2rpx-loader?{\\\"baseDpr\\\":1,\\\"rpxUnit\\\":0.5}!postcss-loader?{\\\"sourceMap\\\":true}!../../../node_modules/mpvue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/mpvue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/mpvue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/mpvue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4fb02504\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/mpvue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"src/pages/search/index.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key.substr(0, 2) !== \"__\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] index.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-4fb02504\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-4fb02504\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/search/index.vue\n// module id = 150\n// module chunks = 3","import Vue from 'vue'\nimport App from './index'\n\nconst app = new Vue(App)\napp.$mount()\n\nexport default {\n  config: {\n    navigationBarTitleText: '大智慧行情'\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/search/main.js","<template>\n<div>\n    <header class=\"sch sch-fixTop\">\n        <div class=\"flex\"><img src=\"/static/images/icon_search.png\" alt=\"\"><input type=\"text\" placeholder=\"输入股票代码/首字母\" class=\"space\" v-model:value=\"stockkey\"></div>\n    </header>\n    <section class=\"sch-history\">\n        <h2 class=\"history-tit\">搜索结果</h2>\n        <ul class=\"history-list\">\n            <li v-for=\"(stock,index) in resList\" :key=\"index\">\n                <a :href=\"'/pages/stock/main?code='+stock.DaiMa\">\n                    <b class=\"stock-tag\">{{stock.Market}}</b>\n                    <span class=\"stock-code\">{{stock.Code}}</span>\n                    <span class=\"stock-name\" :class=\"{'xl':!stock.isAddPro}\" >{{stock.MingCheng}}</span>\n                </a>\n                <span v-if=\"stock.isAddPro\" class=\"operate-btn btn-minus\" @tap='delPro(stock.DaiMa)'>已加入</span>\n                <span v-else class=\"operate-btn btn-add\" @tap='addPro(stock.DaiMa)'></span>\n            </li>\n        </ul>\n    </section>\n</body>\n</div>\n</template>\n<script>\nimport {Dzhyun, formatNumber, formatDate, noop , yunToken} from '@/utils/util.js'\nimport stockManager from '@/utils/stockManager.js'\nimport store from '@/store/index.js'\n\nexport default {\n    data(){\n        return {\n            YunDzhObj:'',           //云平台行情源对象\n            resList:[],             //键盘宝\n            stockkey:'',             //\n            myStock:[]             //我的自选股列表\n        }\n    },\n    onLoad(){\n        let self = this;\n\n        this.YunDzhObj = store.state.wsobj;\n\n        stockManager.onPortfolioChanged((obj) => {  //自选股变化时，重新绑定搜索结果\n            self.myStock = obj;\n            self.searchStock(self.stockkey);\n        });\n    },\n    onShow(){\n        let self = this;\n        stockManager.getPortfolioList().then((d)=>{\n            self.myStock = d\n        })\n    },\n    onUnload(){\n        this.stockkey = '';\n        this.resList=[];\n    },\n    onShareAppMessage() {\n        return {\n          title: '大智慧行情',\n          desc: '大智慧股票实时数据展示',\n          path: '/pages/search/main',\n        };\n    },\n    methods: {\n        searchStock(key) {   //查询之选新闻\n            let self = this;\n            this.YunDzhObj.query(\"/kbspirit\",{'input':key,type:0,market:'SH,SZ,HK,NY,NS',vartype:'0,1'},(resStockList)=>{\n                let _resStockList = [];\n\n                if( resStockList[0].JieGuo ) {\n                    _resStockList = resStockList[0].JieGuo[0].ShuJu;\n                } else {\n                    _resStockList = [];\n                }\n                \n                _resStockList.forEach((eachObj)=>{\n                    eachObj.Market=eachObj.DaiMa.substr(0,2);\n                    eachObj.Code = eachObj.DaiMa.substr(2);\n                    eachObj.isAddPro = self.myStock.includes(eachObj.DaiMa);\n                });\n\n                self.resList = _resStockList;\n            });\n        },\n        delPro(stock) { //删自选\n           stockManager.removePortfolio(stock);\n        },\n        addPro(stock) { //加自选\n            stockManager.addPortfolio(stock);\n        }\n    },\n    watch:{\n        stockkey(curVal,oldVal){\n            if (curVal !='' ) {\n                this.searchStock(curVal);\n            }\n\n            console.log(this.resList);\n　　　　 }\n    }\n}\n</script>\n<style>\n    /* init */\n    body,button,input,select,textarea{font:12px/1 Arial,San Francisco,Helvetica,SimHei,SimSun,sans-serif;}\n    h1,h2,h3,h4,h5,h6,b,strong{font-weight: normal;}\n    button,input,select,textarea{padding: 0;background: none;border: 0;font-size: inherit;}\n    input:focus,textarea:focus,button:focus{outline:0;}\n    ul,ol,li{list-style: none;}\n    i{font-style: normal;}\n    a{text-decoration: none;}\n    img{display: block;}\n    *{padding: 0;margin:0;}\n\n    /* common */\n    .flex{display: -webkit-box;display: -webkit-flex;display: -ms-flexbox;display: flex;}\n    .space{-webkit-box-flex: 1; -webkit-flex: 1; -ms-flex: 1;flex: 1;}\n    .mod-red:before{background:#ef3939;}\n    .mod-green:before{background:#01aa3b;}\n    .mod-gray:before{background:#8e9ab7;}\n    .font-red{color:#ef3939;}\n    .font-green{color:#01aa3b;}\n    .font-gray{color:#8e9ab7;}\n    .block-red{background:#f24957;}\n    .block-green{background:#13a977;}\n    .block-gray{background:#8e9ab7;}\n\n    /* 0.5底边 */\n    .history-list li:after{\n        content: '';position: absolute;left: 0;top: 0;width: 100%;height: 100%;background: -webkit-linear-gradient(bottom, #e5e5e5 60%, transparent 60%) no-repeat left bottom;background: linear-gradient(bottom, #e5e5e5 60%, transparent 60%) no-repeat left bottom;-webkit-background-size: 100% 1px;background-size: 100% 1px;z-index: -1;\n    }\n    \n    .sch{padding: 8px 16px;}\n    .sch-fixTop{position: fixed;top: 0;left: 0;right: 0;background: #fff;z-index: 5;}\n    .sch input{font-size:15px;color:#333;display:block;height:23px;padding:5px 10px 5px 0;line-height: 23px;}\n    .sch input::-webkit-input-placeholder{color:#9aa5b8;}\n    .sch>div{position: relative;}\n    .sch>div:after{content:'';position: absolute;left:0;top:0;height:200%;width:200%;border:1px solid #bfbfbf;border-radius: 10px;-webkit-transform:scale(.5);-ms-transform:scale(.5);transform:scale(.5);-webkit-transform-origin: left top;-ms-transform-origin: left top;transform-origin: left top;z-index: -1;}\n    .sch img{width: 16px;height: 16px;float: left;margin:8px 8px 0 13px;}\n    .sch-history{padding-top: 80px;}\n    .history-tit{position: fixed;top: 49px;left: 0;right: 0;background: #f0f0f5;line-height: 30px;font-size: 15px;padding: 0 10px;color:#0631a8;z-index: 5;}\n    .history-list{}\n    .history-list li{position: relative;z-index: 1;}\n    .history-list li a{display: block;padding: 15px 0 15px 87px;color: #333;font-size:17px;height: 26px;line-height: 26px;margin-right: 50px;}\n    .history-list li a:active{background: #e5e5e5;}\n    .stock-tag{position: absolute;left:10px;top:50%;width: 65px;height: 26px;text-align: center;line-height: 26px;background:#e8e8ee;margin-top:-13px;font-size: 15px;}\n    .stock-code,.stock-name{float: left;}\n    .stock-code{width: 31%;}\n    .stock-name{overflow: hidden;text-overflow: ellipsis;width:55%;white-space: nowrap;}\n    .stock-name.xl{width:65%;}\n    .operate-btn{position: absolute;right: 0;top: 0;padding:0 15px;height: 100%;font-size: 15px;color:#041ca0;}\n    .btn-add{width: 15px;}\n    .btn-minus{width: auto;font-size: 13px;line-height:56px;padding-right: 30px;}\n    .btn-add:before,.btn-add:after{content:'';position: absolute;background: #041ca0;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);}\n    .btn-add:before{width:15px;height: 2px;}\n    .btn-add:after{width:2px;height:15px;}\n    .btn-minus:after{content:'';position: absolute;background: #041ca0;right:15px;top:50%;-webkit-transform:translate(0,-50%);-ms-transform:translate(0,-50%);transform:translate(0,-50%);width:12px;height: 1px;}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/search/index.vue?61728eec","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":false,\"sourceMap\":false}!./~/mpvue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-4fb02504\",\"scoped\":false,\"hasInlineConfig\":false}!./~/px2rpx-loader?{\"baseDpr\":1,\"rpxUnit\":0.5}!./~/postcss-loader/lib?{\"sourceMap\":true}!./~/mpvue-loader/lib/selector.js?type=styles&index=0!./src/pages/search/index.vue\n// module id = 291\n// module chunks = 3","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('header', {\n    staticClass: \"sch sch-fixTop\"\n  }, [_c('div', {\n    staticClass: \"flex\"\n  }, [_c('img', {\n    attrs: {\n      \"src\": \"/static/images/icon_search.png\",\n      \"alt\": \"\"\n    }\n  }), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model:value\",\n      value: (_vm.stockkey),\n      expression: \"stockkey\",\n      arg: \"value\"\n    }],\n    staticClass: \"space\",\n    attrs: {\n      \"type\": \"text\",\n      \"placeholder\": \"输入股票代码/首字母\",\n      \"eventid\": '0'\n    },\n    domProps: {\n      \"value\": (_vm.stockkey)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.stockkey = $event.target.value\n      }\n    }\n  })])]), _vm._v(\" \"), _c('section', {\n    staticClass: \"sch-history\"\n  }, [_c('h2', {\n    staticClass: \"history-tit\"\n  }, [_vm._v(\"搜索结果\")]), _vm._v(\" \"), _c('ul', {\n    staticClass: \"history-list\"\n  }, _vm._l((_vm.resList), function(stock, index) {\n    return _c('li', {\n      key: index\n    }, [_c('a', {\n      attrs: {\n        \"href\": '/pages/stock/main?code=' + stock.DaiMa\n      }\n    }, [_c('b', {\n      staticClass: \"stock-tag\"\n    }, [_vm._v(_vm._s(stock.Market))]), _vm._v(\" \"), _c('span', {\n      staticClass: \"stock-code\"\n    }, [_vm._v(_vm._s(stock.Code))]), _vm._v(\" \"), _c('span', {\n      staticClass: \"stock-name\",\n      class: {\n        'xl': !stock.isAddPro\n      }\n    }, [_vm._v(_vm._s(stock.MingCheng))])], 1), _vm._v(\" \"), (stock.isAddPro) ? _c('span', {\n      staticClass: \"operate-btn btn-minus\",\n      attrs: {\n        \"eventid\": '2-' + index\n      },\n      on: {\n        \"tap\": function($event) {\n          _vm.delPro(stock.DaiMa)\n        }\n      }\n    }, [_vm._v(\"已加入\")]) : _c('span', {\n      staticClass: \"operate-btn btn-add\",\n      attrs: {\n        \"eventid\": '1-' + index\n      },\n      on: {\n        \"tap\": function($event) {\n          _vm.addPro(stock.DaiMa)\n        }\n      }\n    })])\n  }))], 1)], 1)\n}\nvar staticRenderFns = []\nrender._withStripped = true\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-4fb02504\", esExports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/mpvue-loader/lib/template-compiler?{\"id\":\"data-v-4fb02504\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/mpvue-loader/lib/selector.js?type=template&index=0!./src/pages/search/index.vue\n// module id = 332\n// module chunks = 3"],"sourceRoot":""}